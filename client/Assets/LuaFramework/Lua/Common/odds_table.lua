module('OddsTable', package.seeall)

-- 下标分别为 颜色，线条, 根据策划的说法，赔率是绝对不会变的，那就直接放在这里
local MultiTable_4 =
{
    { 0, 0, 0, 0.2, 0.4, 0.5, 0.8, 1, 2, 3, 5, 10, 20, 40, 40, -99999},  --1
    { 0, 0, 0, 0.4, 0.5, 1, 2, 3, 5, 10, 25, 50, 75, 80, 80, -99999}, --2
    { 0, 0, 0, 0.5, 1, 2, 4, 8, 16, 50, 100, 200, 500, 600, 600, -99999}, --3
    { 0, 0, 0, 1, 3, 5, 6, 10, 75, 100, 1000, 2000, 5000, 6000, 6000, -99999}, --4
    { 0, 0, 0, 2, 5, 10, 50, 100, 200, 500, 2000, 5000, 6000, 8000, 8000, -99999}, --5
}

local MultiTable_5 =
{
    { 0, 0, 0, 0, 0.2, 0.4, 0.5, 0.8, 1, 2, 3, 5, 10, 20, 45, 45, 45, 45, 45, -99999, -99999, -99999, -99999, -99999, -99999},  --1
    { 0, 0, 0, 0, 0.4, 0.5, 1, 2, 3, 5, 10, 25, 50, 75, 100, 100, 100, 100, 100, -99999, -99999, -99999, -99999, -99999, -99999}, --2
    { 0, 0, 0, 0, 0.5, 1, 2, 4, 8, 16, 50, 100, 200, 500, 700, 700, 700, 700, 700, -99999, -99999, -99999, -99999, -99999, -99999}, --3
    { 0, 0, 0, 0, 1, 3, 5, 6, 10, 75, 100, 1000, 2000, 5000, 7000, 7000, 7000, 7000, 7000, -99999, -99999, -99999, -99999, -99999, -99999}, --4
    { 0, 0, 0, 0, 2, 5, 10, 50, 100, 200, 500, 2000, 5000, 8000, 10000, 10000, 10000, 10000, 10000, -99999, -99999, -99999, -99999, -99999, -99999}, --5
}

local MultiTable_6 =
{
    { 0, 0, 0, 0, 0, 0.2, 0.4, 0.5, 0.8, 1, 2, 3, 5, 10, 20, 50, 50, 50, 50, 50, 50, 50, 50, -99999, -99999, -99999, -99999, -99999, -99999, -99999, -99999, -99999, -99999, -99999, -99999, -99999},  --1
    { 0, 0, 0, 0, 0, 0.4, 0.5, 1, 2, 3, 5, 10, 25, 50, 75, 120, 120, 120, 120, 120, 120, 120, 120, -99999, -99999, -99999, -99999, -99999, -99999, -99999,-99999, -99999, -99999, -99999, -99999, -99999}, --2
    { 0, 0, 0, 0, 0, 0.5, 1, 2, 4, 8, 16, 50, 100, 200, 500, 800, 800, 800, 800, 800, 800, 800, 800, -99999, -99999, -99999, -99999, -99999, -99999, -99999,-99999, -99999, -99999, -99999, -99999, -99999}, --3
    { 0, 0, 0, 0, 0, 1, 3, 5, 6, 10, 75, 100, 1000, 2000, 5000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, -99999, -99999, -99999, -99999, -99999, -99999, -99999,-99999, -99999, -99999, -99999, -99999, -99999}, --4
    { 0, 0, 0, 0, 0, 2, 5, 10, 50, 100, 200, 500, 2000, 5000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000, -99999, -99999, -99999, -99999, -99999, -99999, -99999,-99999, -99999, -99999, -99999, -99999, -99999}, --5
}

function GetOdds( color, lines, lvl )
    -- body
    if not tonumber(color) then
        return -1
    end

    if lvl == 1 then
        return MultiTable_4[tonumber(color)][lines]
    elseif lvl == 2 then
        return MultiTable_5[tonumber(color)][lines]
    else
        return MultiTable_6[tonumber(color)][lines]
    end
end

-- 获取累积奖需要的颜色，线条，随机
function GetJackPotLines( lvl )
    -- body
    local color = math.random(5)
    local tab
    if lvl == 1 then
        tab = MultiTable_4[color]
    elseif lvl == 2 then
        tab = MultiTable_5[color]
    else
        tab = MultiTable_6[color]
    end
    local index = #tab
    while tab[index] < 0 do
        index = index -1
    end

    return tostring(color), math.random(index+1, #tab)
end